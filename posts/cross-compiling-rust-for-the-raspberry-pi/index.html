<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="icon" href="/favicon.ico" type="image/x-icon" />

<meta name="description" content="Compile a Rust program on your Linux computer and run it on the Pi"><meta name="author" content="Carlos Chacin">


<meta name="apple-mobile-web-app-title" content="Chacin.dev">






<link rel="apple-touch-icon" href="https://chacin.dev/imgs/icon.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://chacin.dev/imgs/icon_hu_b7fb185e7aaaf9aa.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://chacin.dev/imgs/icon_hu_25434a148df59985.png">
<link rel="apple-touch-icon" sizes="167x167" href="https://chacin.dev/imgs/icon_hu_141628a535d8106.png">
<link rel="icon" sizes="196x196" href="https://chacin.dev/imgs/icon_hu_49bacd670d4eaccb.png">
<link rel="icon" sizes="512x512" href="https://chacin.dev/imgs/icon_hu_db55f681fcb2e5e1.png">

<meta property="og:url" content="https://chacin.dev/posts/cross-compiling-rust-for-the-raspberry-pi/">
<meta property="og:type" content="blog"><meta property="og:title" content="Cross Compiling Rust for the Raspberry Pi"><meta property="og:description" content="Compile a Rust program on your Linux computer and run it on the Pi"><meta property="og:image" content="https:/chacin.dev/posts/cross-compiling-rust-for-the-raspberry-pi/thumbnail.png"><title>Cross Compiling Rust for the Raspberry Pi | Carlos Chacin</title>

    <link rel="preload" href="/css/bundle.css" as="style" />
        <link rel="stylesheet" href="/css/bundle.min.f8e661f16466ef4298e72c2fe5967973aacf8f5aa54e647210108a4c3718d8a7.css" integrity="sha256-&#43;OZh8WRm70KY5ywv5ZZ5c6rPj1qlTmRyEBCKTDcY2Kc=" crossorigin="anonymous">
    <link rel="preload" href="/fonts/remixicon/remixicon.css" as="style" />
        <link rel="stylesheet" href="/fonts/remixicon/remixicon.min.05b7739faffbaa511b1f279e3d0f8657d2fc6023a32dfb427a225b68a5a2570f.css" integrity="sha256-Bbdzn6/7qlEbHyeePQ&#43;GV9L8YCOjLftCeiJbaKWiVw8=" crossorigin="anonymous">
    <link rel="preload" href="/fonts/yuseimagic/yuseimagic.css" as="style" />
        <link rel="stylesheet" href="/fonts/yuseimagic/yuseimagic.min.25d68f1b1308ef212b81319db93de8bb401028827874a394c71c6f5c5a930720.css" integrity="sha256-JdaPGxMI7yErgTGduT3ou0AQKIJ4dKOUxxxvXFqTByA=" crossorigin="anonymous">
  
  
  
  
  



</head>
<body>
    
      <header>
        <div class="inner-header">
    
<nav>
    <a class="header-title" href="/">Carlos Chacin</a>

  <ul>
<li>
  <a aria-current="true" class="ancestor" href="/posts/">Posts</a>
</li>
<li>
  <a href="/tags/">Tags</a>
</li>
  </ul>
</nav>
</div>
      </header>
        <main>
          
<div class="post">
  <h1>Cross Compiling Rust for the Raspberry Pi</h1>

  
  
  <img class="banner" src="/posts/cross-compiling-rust-for-the-raspberry-pi/banner.png">

  <div class="metadata">
    
    
    <ul>
      <li><i class="ri-calendar-fill "></i> <time datetime="2020-01-28T09:00:00-07:00">Posted: January 28, 2020</time></li>
      <li><i class="ri-timer-fill "></i> Read Est: 2 minutes</li>

      <li>
        <div class="toc-wrapper">     
          <details>
            <summary><i class="ri-book-fill"></i> <i class="ri-book-open-fill"></i> Table of Contents</summary>
            <nav id="TableOfContents">
  <ol>
    <li><a href="#getting-started">Getting Started</a>
      <ol>
        <li><a href="#install-the-standard-library-for-your-pi">Install the Standard Library for your Pi</a></li>
        <li><a href="#download-the-gnu-toolchain">Download the GNU Toolchain</a></li>
        <li><a href="#create-a-cargo-project">Create a Cargo Project</a></li>
        <li><a href="#run-your-binary-on-the-pi">Run your Binary on the Pi</a></li>
      </ol>
    </li>
  </ol>
</nav>
          </details> 
        </div>
      </li>

    </ul>
  </div>

  <div class="content">
    <h1 id="getting-started">Getting Started</h1>
<blockquote>
<p>If you want to automate this process with Docker, take a look at <a href="https://github.com/rust-embedded/cross">cross</a>!</p></blockquote>
<p>This guide covers how to set up your linux computer to <code>compile</code>, <code>upload</code>, and <code>run</code> a Rust binary on your Raspberry Pi. In order to do this, you&rsquo;ll need to:</p>
<ul>
<li>Download the standard library that&rsquo;s compatible with your Pi.</li>
<li>Download the Linker for the Cortex-A Family.</li>
<li>Upload &amp; run the binary on your Pi.</li>
</ul>
<p>Before moving on, make sure you have a Pi that&rsquo;s <strong>connected to WiFi</strong> and has <strong>SSH enabled</strong>.</p>
<h2 id="install-the-standard-library-for-your-pi">Install the Standard Library for your Pi</h2>
<p>Assuming that <a href="https://www.rust-lang.org/">Rust</a> is already installed, download the compatible standard library on your computer.</p>








<div class="code-block">
    <div class="code-block-tabs">
        
        
            <div class="code-block-lang">
                <p>bash</p>
            </div>
        
        
        
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Supports Pi 0/1</span>
</span></span><span class="line"><span class="cl">rustup target add arm-unknown-linux-gnueabihf
</span></span><span class="line"><span class="cl"><span class="c1"># Supports Pi 2/3/4</span>
</span></span><span class="line"><span class="cl">rustup target add armv7-unknown-linux-gnueabihf</span></span></code></pre></div>
</div><h2 id="download-the-gnu-toolchain">Download the GNU Toolchain</h2>
<blockquote>
<p>We&rsquo;re installing this from source to stay distro agnostic.</p></blockquote>
<p>Next we need to get a compatible Arm linker for Rust to compile against. Download any <strong>Linux</strong> Toolchain version for the desired target.</p>
<blockquote>
<p>You may have to search through previous releases to find what you want.</p></blockquote>
<ul>
<li><a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-a/downloads">GNU Toolchain Downloads</a>
<ul>
<li><code>Pi 0/1</code>: <strong>AArch32 target with hard float (arm-linux-gnueabihf)</strong></li>
<li><code>Pi 2/3/4</code>: <strong>AArch32 target with hard float (arm-none-linux-gnueabihf)</strong></li>
</ul>
</li>
</ul>
<p>Unzip it, and add the binaries to your <code>$PATH</code>.</p>








<div class="code-block">
    <div class="code-block-tabs">
        
        
            <div class="code-block-lang">
                <p>bash</p>
            </div>
        
        
        
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Add to your .bashrc, .zshrc, config.fish, .profile, etc..</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Pi 0/1 Example: export PATH=&#34;$HOME/Documents/gcc-arm-8.3-2019.03-x86_64-arm-linux-gnueabihf/bin:$PATH&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Pi 2/3/4 Example: export PATH=&#34;$HOME/Documents/gcc-arm-9.2-2019.12-x86_64-arm-none-linux-gnueabihf/bin:$PATH&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&#34;</span><span class="nv">$HOME</span><span class="s2">/PATH_TO_YOUR_DOWNLOAD/PATH_TO_TOOLCHAIN_FOLDER/bin:</span><span class="nv">$PATH</span><span class="s2">&#34;</span></span></span></code></pre></div>
</div><h2 id="create-a-cargo-project">Create a Cargo Project</h2>
<p>It&rsquo;s almost ready! All that&rsquo;s left is to create and configure a cargo project.</p>








<div class="code-block">
    <div class="code-block-tabs">
        
        
            <div class="code-block-lang">
                <p>bash</p>
            </div>
        
        
        
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cargo new pi_project
</span></span><span class="line"><span class="cl">mkdir pi_project/.cargo
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> ./pi_project/.cargo
</span></span><span class="line"><span class="cl">touch config.toml</span></span></code></pre></div>
</div><p>Add the following to <code>pi_project/.cargo/config.toml</code>.</p>








<div class="code-block">
    <div class="code-block-tabs">
        
        
            <div class="code-block-lang">
                <p>toml</p>
            </div>
        
        
        
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">build</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># Pi 0/1</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">target</span><span class="p">.</span><span class="nx">arm-unknown-linux-gnueabihf</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">linker</span> <span class="p">=</span> <span class="s2">&#34;arm-linux-gnueabihf-gcc&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># Pi 2/3/4</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">target</span><span class="p">.</span><span class="nx">armv7-unknown-linux-gnueabihf</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">linker</span> <span class="p">=</span> <span class="s2">&#34;arm-none-linux-gnueabihf-gcc&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># (Optional) Set default target for cargo build</span>
</span></span><span class="line"><span class="cl"><span class="c"># target = &#34;armv7-unknown-linux-gnueabihf&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c"># rustflags = [&#34;-C&#34;, &#34;linker=arm-none-linux-gnueabihf-gcc&#34;]</span></span></span></code></pre></div>
</div><h2 id="run-your-binary-on-the-pi">Run your Binary on the Pi</h2>
<p>Below is a quick example workflow you can use to quickly deploy your project on a Pi.</p>








<div class="code-block">
    <div class="code-block-tabs">
        
        
            <div class="code-block-lang">
                <p>bash</p>
            </div>
        
        
        
    </div>
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">PI_IP</span><span class="o">=</span>192.168.2.159 <span class="c1"># Be sure to change this!</span>
</span></span><span class="line"><span class="cl"><span class="nv">TARGET</span><span class="o">=</span>armv7-unknown-linux-gnueabihf <span class="c1"># Pi 2/3/4</span>
</span></span><span class="line"><span class="cl"><span class="c1">#TARGET=arm-unknown-linux-gnueabihf # Pi 0/1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># build binary</span>
</span></span><span class="line"><span class="cl">cargo build --target <span class="nv">$TARGET</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># upload binary</span>
</span></span><span class="line"><span class="cl">sshpass -p <span class="s1">&#39;raspberry&#39;</span> scp -r ./target/<span class="nv">$TARGET</span>/debug/pi_project pi@<span class="nv">$PI_IP</span>:/home/pi
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># execute binary</span>
</span></span><span class="line"><span class="cl">sshpass -p <span class="s1">&#39;raspberry&#39;</span> ssh pi@<span class="nv">$PI_IP</span> <span class="s1">&#39;./pi_project&#39;</span></span></span></code></pre></div>
</div><p>The output should look like this.
<img src="/posts/cross-compiling-rust-for-the-raspberry-pi/demo.png" alt="example output of the Rust program"></p>

    
  </div>
</div>

        </main>
    <footer>
      <div class="inner-footer">
    <div class="left-footer">
        <p><i class="ri-copyright-line"></i>2025 Carlos Chacin</p>
        <p>Built With: <a href="https://gohugo.io/" target="_blank">Hugo</a></p>
        <p>Icons: <a href="https://remixicon.com/" target="_blank"><i class="ri-remixicon-line"></i> Remix Icon</a></p>
    </div>

    <div class="right-footer">
        <p>Page Version: <a target="_blank" href="https://codeberg.org/Hermitter/website/commit/4f207abbafb1a0c2a9e1ed76f27ebbd04f07cffc">4f207ab</a></p>
        <p>Title Font: <a target="_blank" href="https://github.com/tanukifont/YuseiMagic">YuseiMagic</a></p>
    </div>
</div>
    </footer>
</body>
</html>
